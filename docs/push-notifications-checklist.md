# –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ FCM.

## Firebase Console

- [ ] –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç –≤ Firebase
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Package Name
- [ ] –°–∫–∞—á–∞–Ω `google-services.json` –¥–ª—è Android
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º Bundle ID
- [ ] –°–∫–∞—á–∞–Ω `GoogleService-Info.plist` –¥–ª—è iOS
- [ ] –î–ª—è V1 API: –°–∫–∞—á–∞–Ω JSON —Ñ–∞–π–ª Service Account
- [ ] –î–ª—è V1 API: JSON —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `storage/app/firebase-service-account.json`
- [ ] –î–ª—è V1 API: –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω **Sender ID** –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ V1 API
- [ ] –î–ª—è V1 API: –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω **Project ID** –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –î–ª—è Legacy API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω): –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω **Server Key**
- [ ] –î–ª—è Legacy API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω): –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω **Sender ID**
- [ ] –í–∫–ª—é—á–µ–Ω Cloud Messaging API –≤ Google Cloud Console
- [ ] –î–ª—è iOS: –Ω–∞—Å—Ç—Ä–æ–µ–Ω APNs –∫–ª—é—á –≤ Firebase Console

## –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Ionic + Vue + Capacitor)

### –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@capacitor/push-notifications`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@capacitor-community/fcm`
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `npx cap sync`

### Android

- [ ] `google-services.json` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `android/app/`
- [ ] –í `android/app/build.gradle` –¥–æ–±–∞–≤–ª–µ–Ω `apply plugin: 'com.google.gms.google-services'`
- [ ] –í `android/app/build.gradle` –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Firebase
- [ ] –í `android/build.gradle` –¥–æ–±–∞–≤–ª–µ–Ω classpath –¥–ª—è Google Services
- [ ] –í `AndroidManifest.xml` –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `INTERNET` –∏ `POST_NOTIFICATIONS`

### iOS

- [ ] `GoogleService-Info.plist` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ `ios/App/App/`
- [ ] –í `Podfile` –¥–æ–±–∞–≤–ª–µ–Ω `pod 'Firebase/Messaging'`
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω `pod install` –≤ –ø–∞–ø–∫–µ `ios/App`
- [ ] –í Xcode –¥–æ–±–∞–≤–ª–µ–Ω–∞ capability **Push Notifications**
- [ ] –í Xcode –¥–æ–±–∞–≤–ª–µ–Ω–∞ capability **Background Modes** —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º **Remote notifications**
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω APNs –∫–ª—é—á –≤ Apple Developer Portal
- [ ] APNs –∫–ª—é—á –∑–∞–≥—Ä—É–∂–µ–Ω –≤ Firebase Console

### –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- [ ] –°–æ–∑–¥–∞–Ω —Å–µ—Ä–≤–∏—Å `PushNotificationService`
- [ ] –°–µ—Ä–≤–∏—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

## Laravel API

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- [ ] –î–ª—è V1 API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_USE_V1_API=true`
- [ ] –î–ª—è V1 API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_SERVICE_ACCOUNT_PATH`
- [ ] –î–ª—è V1 API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_SENDER_ID`
- [ ] –î–ª—è V1 API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_PROJECT_ID`
- [ ] –î–ª—è Legacy API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_USE_V1_API=false`
- [ ] –î–ª—è Legacy API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_SERVER_KEY`
- [ ] –î–ª—è Legacy API: –í `.env` –¥–æ–±–∞–≤–ª–µ–Ω `FCM_SENDER_ID`
- [ ] JSON —Ñ–∞–π–ª Service Account –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- [ ] –í `config/services.php` –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ FCM
- [ ] FCM –∫–∞–Ω–∞–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `AppServiceProvider`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `create_user_device_tokens_table`
- [ ] –¢–∞–±–ª–∏—Ü–∞ `user_device_tokens` —Å–æ–∑–¥–∞–Ω–∞

### API Endpoints

- [ ] Endpoint `POST /api/v1/user/device-tokens` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Endpoint `DELETE /api/v1/user/device-tokens/{id}` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Android

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–µ–Ω FCM —Ç–æ–∫–µ–Ω
- [ ] –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ `user_device_tokens`
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–∑ Firebase Console –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### iOS

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —á–µ—Ä–µ–∑ Xcode
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–µ–Ω FCM —Ç–æ–∫–µ–Ω
- [ ] –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ `user_device_tokens`
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–∑ Firebase Console –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –°–µ—Ä–≤–µ—Ä

- [ ] –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞)
- [ ] –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–µ—Ö–∞—Ö
- [ ] Job `CheckGoalsDeadlinesJob` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] `FCM_SERVER_KEY` –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ `.env` —Ñ–∞–π–ª–µ
- [ ] `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- [ ] Endpoints —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞—â–∏—â–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ FCM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –†–§)

- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω –≤–∞—Ä–∏–∞–Ω—Ç RuStore Push
- [ ] –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (RuStore + FCM + Email)

---

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞:**
   ```sql
   SELECT * FROM user_device_tokens WHERE user_id = YOUR_USER_ID;
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Ü–µ–ª—å
   - –î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ –µ—ë (–∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—Ä—É—á–Ω—É—é)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—à–ª–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**
   ```bash
   # Laravel
   tail -f storage/logs/laravel.log
   
   # Android
   adb logcat | grep -i fcm
   
   # iOS
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Xcode Console
   ```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Capacitor
npx cap sync

# –û—Ç–∫—Ä—ã—Ç—å Android Studio
npx cap open android

# –û—Ç–∫—Ä—ã—Ç—å Xcode
npx cap open ios

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
php artisan migrate:status

# –ó–∞–ø—É—Å–∫ queue worker (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
php artisan queue:work

# –ó–∞–ø—É—Å–∫ scheduled tasks
php artisan schedule:work
```

---

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ

